{% extends 'base.html.twig' %}

{% block title %}Register to Zorglux{% endblock %}

{% block body_header %}
    {% include '@common/navbar.html.twig' %}
{% endblock %}

{% block body %}

    {% set inputClasses = 'border-b rounded-sm outline-none focus:border-black p-1' %}
    {% set textErrorClasses = 'mt-1 text-xs text-red-500' %}

    {{ form_start(form, {
        attr: {
            class: 'mt-5 p-5 shadow'
        }
    }) }}
        <h1 class="text-3xl mb-2 font-sans">Become a Zorglux member.</h1>

        <div class="mb-3 flex flex-col">
            {{ form_label(form.username, null, {
                label_attr: {
                    class: 'text-sm'
                }
            }) }}
            {{ form_widget(form.username, {
                attr: {
                    class: inputClasses,
                }
            }) }}
            {% if form.username.vars.errors|length > 0 %}
                <div class="{{ textErrorClasses }}">
                    {{ form_errors(form.username) }}
                </div>
            {% endif %}
        </div>
        <div class="mb-3 flex flex-col">
            {{ form_label(form.plainPassword, null, {
                label_attr: {
                    class: 'text-sm'
                }
            }) }}
            {{ form_widget(form.plainPassword, {
                attr: {
                    class: inputClasses,
                }
            }) }}
            {% if form.plainPassword.vars.errors|length > 0 %}
                <div class="{{ textErrorClasses }}">
                    {{ form_errors(form.plainPassword) }}
                </div>
            {% endif %}
        </div>
        <div class="mb-3 flex flex-col">
            {{ form_label(form.confirmPassword, null, {
                label_attr: {
                    class: 'text-sm'
                }
            }) }}
            {{ form_widget(form.confirmPassword, {
                attr: {
                    class: inputClasses,
                }
            }) }}
            {% if form.confirmPassword.vars.errors|length > 0 %}
                <div class="{{ textErrorClasses }}">
                    {{ form_errors(form.confirmPassword) }}
                </div>
            {% endif %}
        </div>

        <input type="hidden" name="_csrf_token"
           value="{{ csrf_token('authenticate') }}"
        >

        <button class="bg-gray-800 text-white px-4 py-2 rounded w-full" type="submit">
            Register
        </button>
        <div class="mt-2 text-center">
            <p>Already a member ?</p>
            <a href="{{ path('app_login') }}" class="font-bold">Access to your account.</a>
        </div>
    {{ form_end(form) }}
{% endblock %}
