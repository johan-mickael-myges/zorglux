<nav class="w-full">
    <div class="bg-white md:flex md:flex-row md:items-center md:justify-between p-4 shadow">
        {% block left_content %}
        <div class="flex flex-row items-center">
            <a href="{{ path('public_index') }}">
                <img src="https://zorglux-bucket.s3.eu-north-1.amazonaws.com/default/logo.png" width="30" height="30" alt="zorglux logo" class="mr-5">
            </a>
            <twig:Avatar size="30" classes="md:hidden mr-4" img="{{ app.user.avatar|default(null) }}" />
            <button {{ stimulus_action('menu_toggler', 'toggle') }} class="md:hidden" name="menu-toggler" aria-label="toggleMenu"><i class="fa-solid fa-bars"></i></button>
        </div>
        {% endblock %}
        {% block right_content %}
        <div class="hidden md:flex flex-row items-center">
            <a href="{{ path('blog_index') }}" class="p-2 text-gray-700">Découvrir</a>
            <a href="{{ path('blog_write') }}" class="p-2 text-gray-700">Ecrire</a>
            {% if app.user %}
                <a href="{{ path('app_logout') }}" class="p-2 text-gray-700">Se Déconnecter</a>
            {% else %}
                <a href="{{ path('app_login') }}" class="p-2 text-gray-700">Se Connecter</a>
            {% endif %}
            <twig:Avatar size="30" img="{{ app.user.avatar|default(null) }}" />
        </div>
        {% endblock %}
    </div>
</nav>

<div {{ stimulus_target('menu_toggler', 'menu') }} class="md:hidden transition-transform -translate-x-full w-4/5 min-h-screen absolute top-0 bg-white border">
    {% block mobile_menu %}
        <div class="flex flex-col text-center">
            <a href="{{ path('public_index') }}" class="p-4 self-center">
                <img src="https://zorglux-bucket.s3.eu-north-1.amazonaws.com/default/logo.png" alt="zorglux logo" width="50" height="50">
            </a>
            <a href="{{ path('blog_index') }}" class="p-2 text-gray-700">Découvrir</a>
            <a href="{{ path('blog_write') }}" class="p-2 text-gray-700">Ecrire</a>
            {% if app.user %}
                <a href="{{ path('app_logout') }}" class="p-2 border-b border-b-gray-100 text-gray-700">Se Déconnecter</a>
            {% else %}
                <a href="{{ path('app_login') }}" class="p-2 border-b border-b-gray-100 text-gray-700">Se Connecter</a>
            {% endif %}
        </div>
    {% endblock %}
</div>

