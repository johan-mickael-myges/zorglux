{% extends 'base.html.twig' %}

{% block stylesheets %}
{% endblock %}

{% block body %}
    {% set contentWrapperClasses = [
        'flex',
        'flex-row',
        'grow',
        'justify-center',
        'items-center',
    ]|join(' ') %}

    {% set contentClasses = [
        'w-full',
        'px-5',
        'md:w-2/3',
    ]|join(' ') %}

    <div class="flex flex-col h-screen border-b border-b-gray-100">
        <header {{ stimulus_controller('menu_toggler') }}>
            {% include '@common/navbar.html.twig' %}
        </header>

        <div class="{{ contentWrapperClasses }}">
            <div class="{{ contentClasses }}">
                <h1 class="text-5xl md:text-7xl lg:text-8xl xl:text-9xl font-bold my-0">Idées <br>Articles <br>Histoires</h1>
                <p class="my-5 text-lg md:text-xl lg:text-2xl">Une place pour lire, écrire, et approfondir les connaissances</p>
                <button
                    {{ stimulus_controller('clickable', { url: path('blog_index') }) }}
                    {{ stimulus_target('clickable', 'element') }}
                    class="w-1/2 md:w-1/3 lg:w-1/4 text-white bg-black rounded-xl md:rounded-full px-4 py-2 md:px-6 md:py-3">
                    Découvrir
                </button>
                <p class="absolute bottom-0 text-2xl text-gray-500 mb-2 font-extrabold">
                    ↓ <small class="text-xs font-normal">Post récents</small>
                </p>
            </div>
        </div>
    </div>

    <div class="{{ contentWrapperClasses }}">
        <div class="{{ contentClasses }}">
            <h2 class="font-bold">Les derniers posts</h2>
            {% set options = {
                classes: 'cursor-pointer py-2',
            } %}
            <div class="grid grid-cols-3 gap-4">
                {% for blog in blogs %}
                    <div {{ stimulus_controller('clickable', {
                        url: path('blog_read', { slug: blog.slug }),
                    }) }} class="col-span-1 flex flex-col justify-center">
                        <twig:BlogCard :blog="blog" :options="options" variant="compact" />
                    </div>
                {% endfor %}
            </div>

            <div class="py-4 text-center border-t border-t-gray-100">
                <a href="{{ path('blog_index') }}" class="text-sm text-gray-700">Voir plus</a>
            </div>
        </div>
    </div>
{% endblock %}
