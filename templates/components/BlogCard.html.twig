<article class="{{ this.classes }}"
         itemscope
         itemtype="https://schema.org/BlogPosting"
>
    {% if this.variant is same as 'default' %}
        <div class="flex flex-row items-center text-gray-700" {{ stimulus_action('clickable', 'visit', 'click') }}>
            <twig:Avatar
                img="{{ this.blog.author.avatar|default('https://zorglux-bucket.s3.eu-north-1.amazonaws.com/default/avatar.jpg') }}"
                :name="this.blog.author.username"
                classes="flex flex-row items-center"
                imageClasses="mr-2 rounded-full object-cover"
                usernameClasses="text-xs"
                size="25"
                itemprop="author"
                itemscope
                itemtype="https://schema.org/Person"
            />
        </div>
        <div class="flex flex-row justify-between">
            <div class="w-full flex flex-col justify-between">
                <div {{ stimulus_action('clickable', 'visit', 'click') }}>
                    <header>
                        <h2 class="text-2xl font-bold my-2" itemprop="headline">
                            {{ this.title }}
                        </h2>
                    </header>
                    <section>
                        <p class="line-clamp-2 text-gray-500" itemprop="description">{{ this.description }}</p>
                    </section>
                </div>
                <figure
                    class="flex justify-center md:hidden"
                    {{ stimulus_action('clickable', 'visit', 'click') }}
                    itemprop="image"
                    itemscope
                    itemtype="https://schema.org/ImageObject"
                >
                    <a class="" href="{{ this.blog.thumbnail }}" title="{{ this.title }}">
                        <img src="{{ this.blog.thumbnail }}" alt="{{ this.title }}" width="150" height="150" loading="lazy" itemprop="url">
                    </a>
                </figure>
                <footer class="mt-3 text-xs text-gray-500 flex flex-row">
                    <time class="mr-4" itemprop="datePublished" datetime="{{ this.createdAt|date }}">{{ this.createdAt|date('M d') }}</time>
                    <div class="grid grid-cols-2 gap-2">
                        <twig:LikeButton class="col-span-1" :blog="blog" />
                        <twig:CommentButton class="col-span-1" />
                    </div>
                </footer>
            </div>
            <figure
                class="hidden md:flex flex-col justify-center" {{ stimulus_action('clickable', 'visit', 'click') }}
                itemprop="image" itemscope itemtype="https://schema.org/ImageObject"
            >
                <img src="{{ this.blog.thumbnail }}" alt="{{ this.title }}" width="200" height="200" loading="lazy" itemprop="url">
            </figure>
        </div>
    {% elseif this.variant is same as 'compact' %}
        <div
            class="flex flex-row items-center" {{ stimulus_action('clickable', 'visit', 'click') }}
        >
            <figure
                class="flex flex-col justify-center min-w-24 mr-2"
                itemprop="image"
                itemscope
                itemtype="https://schema.org/ImageObject"
            >
                <img src="{{ this.blog.thumbnail }}" alt="{{ this.title }}" width="90" height="90" loading="lazy" itemprop="url">
            </figure>
            <div>
                <header>
                    <h3 class="text-base line-clamp-2 font-bold mt-0 mb-1 leading-5" itemprop="headline">
                        {{ this.title }}
                    </h3>
                </header>
                <section>
                    <p class="text-xs line-clamp-2 text-gray-500" itemprop="description">{{ this.description }}</p>
                </section>
            </div>
        </div>
    {% endif %}
</article>
